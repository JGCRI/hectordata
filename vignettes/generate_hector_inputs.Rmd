---
title: "Generating New Hector Inputs"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Generating New Hector Inputs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

The purpose of `hectordata` is to provide eassy acces to a variety of scenario inputs for [Hector](https://github.com/jgcri/hector). In addition to containing a copy of pre-built inputs, `hectordata` provides users with the ability to generate and modify Hector inputs locally on their machines. 

In this example we walk through how to use `hectordata` to generate Hector inputs. 


Start out by loading the hectordata package. 

```{r setup}
library(hectordata)
```


```{r}
# Define the path to a place on your local machine to write all the outputs to. 
dir <- tempdir()

# Define which Hector scenario you would like to generate. 
scn <- "ssp434"

# The years we would like to generate the input files for.
yrs <- 1750:2100
  
new_ini <- generate_inputs(scenarios = scn, write_to = dir, years = yrs)
```


Take a look a what was returned. 

```{r}
new_ini
```

Take a look at all the files that live with the ini file. 

```{r}
list.files(dirname(new_ini), all.files = TRUE, recursive = TRUE)
```

We have the ini file, scenario sepcific emissions/constraints file and the volcanic RF input table.  


Now pass use the new ini file to run hector. 


```{r}
library(hector)
core <- newcore(new_ini, name = "new ini")
run(core)
outputs <- fetchvars(core, dates = 2100)
```

Take a look at a selection of Hector results from 2100. 

```{r}
knitr::kable(outputs)
```


